{% extends 'base.html' %}
{% load static i18n html_tags %}

{% block title %} - Cliënt: {{ object.client_name }}{% endblock %}

{% block breadcrumb %}
    <nav class="breadcrumb screen-only" aria-label="Kruimelpad">
        <ol class="breadcrumb-list">
            <li class="breadcrumb-step"><a href="{% url 'home' %}">Home</a></li>
            <li class="breadcrumb-step"><a href="{% url 'cases_by_profile' %}">Mijn cli&euml;nten</a></li>
            <li class="breadcrumb-step sr-only" aria-current="location">{{ object.client_name }}</li>
        </ol>
    </nav>
{% endblock %}

{% block main %}
<section class="section section--client">
    <h2>Cliënt: {{ object.client_name }}</h2>
    <p class="print-only">
        {% language 'nl' %}
            Printdatum: {% now "j F Y H:i" %}
        {% endlanguage %}
    </p>

    <div class="details-admin screen-only">
        <a href="{% url 'delete_case' object.id %}" class="button button--secondary" title="Verwijder cli&euml;ntgegevens">
            Verwijder cli&euml;ntgegevens
        </a>
    </div>


    <!-- START Client basis gegevens -->
    <a href="{% url 'update_case' object.id 'basis-gegevens' %}" class="button button--secondary" title="Wijzig cli&euml;ntgegevens">
        Wijzig cli&euml;nt basisgegevens
    </a>
    <table cellspacing="0" cellpadding="0">
        {% for k, client_info in object.to_dict.items %}
        {% if not forloop.first and k in basis_gegevens_fields %}
        <tr>
            <th width="40%">{{ client_info.label }}: </th>
            <td>
                {% if client_info.value|is_date %}
                    {{ client_info.value|str_date_to_date|date:"j b Y" }}
                {% else %}
                    {{ client_info.value }}
                {% endif %}
            </td>
        </tr>
        {% endif %}
        {% endfor %}
    </table>
    <!-- END Client basis gegevens -->


    <!-- START BIJLAGE -->
    <h3>Bijlagen</h3>
    <section class="section section-downloads">
        <ul role="list" class="downloads downloads--logged_in {% if class %}downloads--{{ class }}{% endif %}">
        {% for document in object.document_set.all %}
            {% if forloop.counter0 < 3 %}
            <li>{{ document.name }} - geüpload: {{ document.uploaded|date:"j b Y" }} - {{ document.extension }}</li>
            {% endif %}
        {% endfor %}

        </ul>
        <a href="{% url 'add_case_document' object.id %}" class="button button--secondary" title="Voeg een nieuwe bijlage toe">
            Upload bijlage
        </a>
        <a href="{% url 'case_document_list' object.id %}" class="button button--secondary">Alle bijlages</a>
    </section>
    <!-- END BIJLAGE -->


    <!-- START PROCESSTAPPEN -->
    <!-- TODO: interactie uitzoeken knoppen 'per stap' 'alle gegevens' -->
    <a href="#">Per stap</a>
    <a href="#">Alle gegevens</a>
    <ul>
    {% for moment in moment_list %}
    <li>
        <div class="dot dot--large"></div>
        <h3>{{ moment.name }}</h3>
        {% if moment.form %}
            <a href="{% url 'update_case' object.id moment.form %}">Formulier</a>
        {% endif %}

    </li>
    {% endfor %}
    </ul>
    <!-- END PROCESSTAPPEN -->

</section>
{% endblock %}

